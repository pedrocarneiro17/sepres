<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Sistema DP</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        body {
            background: #f5f7fa;
            min-height: 100vh;
            padding-bottom: 50px;
        }
        .container-custom {
            max-width: 1400px;
            margin: 0 auto;
        }
        .page-title {
            color: #2c3e50;
            text-align: center;
            margin: 30px 0;
            font-weight: 600;
        }
        .card {
            border: 1px solid #e1e8ed;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            margin-bottom: 20px;
            transition: all 0.2s ease;
        }
        .card:hover {
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .card-header {
            background: white;
            border-bottom: 1px solid #e1e8ed;
            border-radius: 8px 8px 0 0 !important;
            padding: 15px 20px;
            font-weight: 600;
        }
        .stat-card {
            border: 1px solid #e1e8ed;
            border-radius: 8px;
            background: white;
            overflow: hidden;
        }
        .stat-card .card-body {
            padding: 20px;
        }
        .stat-card h2 {
            font-size: 2rem;
            font-weight: 600;
            margin-bottom: 0;
            color: #2c3e50;
        }
        .stat-card .card-title {
            font-size: 0.9rem;
            margin-bottom: 10px;
            color: #7f8c8d;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        .filter-card {
            background: white;
            border: 1px solid #e1e8ed;
            border-radius: 8px;
            padding: 20px;
        }
        .table-container {
            background: white;
            border-radius: 8px;
            padding: 20px;
        }
        .navbar {
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .stat-icon {
            font-size: 1.2rem;
            margin-right: 5px;
        }
    </style>
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">
                <i class="fas fa-briefcase"></i> Sistema DP
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link active" href="index.html">
                            <i class="fas fa-home"></i> Dashboard
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="colaboradores.html">
                            <i class="fas fa-users"></i> Colaboradores
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="lancamentos.html">
                            <i class="fas fa-dollar-sign"></i> Lançamentos
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Conteúdo Principal -->
    <div class="container-custom">
        <h2 class="page-title">
            <i class="fas fa-chart-line"></i> Dashboard - Visão Geral
        </h2>

        <!-- Cards de Estatísticas -->
        <div class="row mb-4">
            <div class="col-lg col-md-6 col-12">
                <div class="card stat-card mb-3">
                    <div class="card-body text-center">
                        <h5 class="card-title">
                            <i id="iconStat1" class="stat-icon fas fa-users text-primary"></i>
                            <span id="labelStat1">Colaboradores</span>
                        </h5>
                        <h2 id="valueStat1">0</h2>
                    </div>
                </div>
            </div>
            <div class="col-lg col-md-6 col-12">
                <div class="card stat-card mb-3">
                    <div class="card-body text-center">
                        <h5 class="card-title">
                            <i id="iconStat2" class="stat-icon fas fa-list text-info"></i>
                            <span id="labelStat2">Lançamentos</span>
                        </h5>
                        <h2 id="valueStat2">0</h2>
                    </div>
                </div>
            </div>
            <div class="col-lg col-md-4 col-12">
                <div class="card stat-card mb-3">
                    <div class="card-body text-center">
                        <h5 class="card-title">
                            <i class="stat-icon fas fa-hand-holding-usd text-warning"></i>
                            <span>Adiantamento</span>
                        </h5>
                        <h2 id="valueStat3" style="font-size: 1.6rem;">R$ 0,00</h2>
                    </div>
                </div>
            </div>
            <div class="col-lg col-md-4 col-12">
                <div class="card stat-card mb-3">
                    <div class="card-body text-center">
                        <h5 class="card-title">
                            <i class="stat-icon fas fa-money-bill-wave text-success"></i>
                            <span>Líquido Espécie</span>
                        </h5>
                        <h2 id="valueStat4" style="font-size: 1.6rem;">R$ 0,00</h2>
                    </div>
                </div>
            </div>
            <div class="col-lg col-md-4 col-12">
                <div class="card stat-card mb-3">
                    <div class="card-body text-center">
                        <h5 class="card-title">
                            <i class="stat-icon fas fa-calculator text-danger"></i>
                            <span>Total</span>
                        </h5>
                        <h2 id="valueStat5" style="font-size: 1.6rem;">R$ 0,00</h2>
                    </div>
                </div>
            </div>
        </div>

        <!-- Filtros -->
        <div class="filter-card mb-4">
            <h5 class="text-primary mb-4">
                <i class="fas fa-filter"></i> Filtros de Pesquisa
            </h5>
            <div class="row">
                <div class="col-md-3">
                    <label class="form-label fw-bold">Visualizar</label>
                    <select class="form-select" id="filtroTipo">
                        <option value="colaboradores">Colaboradores</option>
                        <option value="lancamentos">Lançamentos</option>
                    </select>
                </div>
                <div class="col-md-3">
                    <label class="form-label fw-bold">Mês/Ano</label>
                    <input type="month" class="form-control" id="filtroMes">
                </div>
                <div class="col-md-3" id="divFiltroColaborador" style="display: none;">
                    <label class="form-label fw-bold">Colaborador</label>
                    <select class="form-select" id="filtroColaborador">
                        <option value="">Todos</option>
                    </select>
                </div>
                <div class="col-md-3">
                    <label class="form-label">&nbsp;</label>
                    <button class="btn btn-secondary w-100" id="btnLimparFiltros">
                        <i class="fas fa-eraser"></i> Limpar Filtros
                    </button>
                </div>
            </div>
            <div class="mt-3 text-center">
                <span class="badge bg-primary fs-6">
                    <span id="tipoResultado">Colaboradores</span>: <strong id="countResultados">0</strong>
                </span>
            </div>
        </div>

        <!-- Tabelas Dinâmicas -->
        <div class="row">
            <!-- Tabela de Colaboradores -->
            <div class="col-12" id="tabelaColaboradoresContainer">
                <div class="card">
                    <div class="card-header bg-primary text-white">
                        <i class="fas fa-users"></i> Colaboradores
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table table-hover">
                                <thead class="table-light">
                                    <tr>
                                        <th>Nome</th>
                                        <th>CPF</th>
                                        <th>Função</th>
                                        <th>Contratação</th>
                                        <th>Remuneração</th>
                                        <th class="text-center">Ações</th>
                                    </tr>
                                </thead>
                                <tbody id="tabelaColaboradoresDash"></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tabela de Lançamentos -->
            <div class="col-12" id="tabelaLancamentosContainer" style="display: none;">
                <div class="card">
                    <div class="card-header bg-primary text-white">
                        <i class="fas fa-list"></i> Lançamentos
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table table-hover">
                                <thead class="table-light">
                                    <tr>
                                        <th>Colaborador</th>
                                        <th>Mês</th>
                                        <th>Total Recebido</th>
                                        <th>Adiantamento</th>
                                        <th>Líquido Espécie</th>
                                        <th>Status</th>
                                        <th class="text-center">Ações</th>
                                    </tr>
                                </thead>
                                <tbody id="tabelaLancamentosDash"></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modals -->
    <div class="modal fade" id="modalExcluirColab" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header bg-danger text-white">
                    <h5 class="modal-title">
                        <i class="fas fa-exclamation-triangle"></i> Confirmar Exclusão
                    </h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <p><strong>⚠️ Atenção!</strong></p>
                    <p>Todos os lançamentos deste colaborador também serão excluídos.</p>
                    <p>Deseja continuar?</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-danger" id="confirmarExclusaoColab">Sim, Excluir</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    <script src="js/main.js"></script>
</body>
</html>